@model IEnumerable<EmployeeManagementSystem.Employee>

@{
    ViewBag.Title = "Index";
}

@Scripts.Render("~/Scripts/KendoWork/KendoUIGrid.js")

@*<h2>Index</h2>*@
<link href="~/Content/Site.css" rel="stylesheet" />
<link href="~/Content/Example2.css" rel="stylesheet" />

<p>
    <a href="@Url.Content("~/Employees/Create")" class="btn btn-success"><span class="glyphicon glyphicon-plus"> Create</span>
    </a>
    @*@Html.ActionLink("Create New", "Create")*@
</p>
<div class="row">
    <div class="col-lg-12">
        <div class="form-group">
            @using (Html.BeginForm())
            {
                <p>
                    @Html.TextBox("searching", null, new { @class = "form-control col-md-3", @placeholder = "Search..." })
                    &nbsp;<input type="submit" value="Search" class="btn btn-primary" /> |
                    <strong>@Html.ActionLink("Get All Employees", "Index")</strong>
                </p>
            }
        </div>
        <div class="table-responsive">
            <div class="form-group pull-right">
                @using (Html.BeginForm("Export", "Employees", FormMethod.Post))
                {
                    <input type="submit" value="Export" class="btn btn-success" />
                }
            </div>
            <table class="table table-bordered table-hover table-striped">
                <tr>
                    <th class="alert-info">
                        @Html.ActionLink("First Name", "Index", new { sortingEmp = ViewData["EmployeeFirstName"] })
                        @*@Html.DisplayNameFor(model => model.FirstName)*@
                    </th>
                    <th class="alert-info">
                        @Html.ActionLink("Last Name", "Index", new { sortingEmp = ViewData["EmployeeLastName"] })
                        @*@Html.DisplayNameFor(model => model.LastName)*@
                    </th>
                    <th class="alert-info">
                        @Html.DisplayNameFor(model => model.Designation)
                    </th>
                    <th class="alert-info">
                        @Html.DisplayNameFor(model => model.Salary)
                    </th>
                    <th class="alert-info">
                        @Html.DisplayNameFor(model => model.DateOfJoining)
                    </th>
                    <th class="alert-info">
                        @Html.DisplayNameFor(model => model.OfficeLocation)
                    </th>
                    @*@<th>
                        @Html.DisplayNameFor(model => model.UserName)
                    </th>*@
                    <th class="alert-info">
                        @Html.DisplayNameFor(model => model.Department.DepartmentName)
                    </th>
                    <th class="alert-info">
                        Actions
                    </th>
                </tr>

                <tbody>
                    @if (Model.Count() == 0)
                    {
                        <tr>
                            <td colspan="8">Not matched anything</td>
                        </tr>
                    }
                    else
                    {
                        foreach (var item in Model)
                        {
                            <tr >
                                <td>
                                    @Html.DisplayFor(modelItem => item.FirstName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LastName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Designation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Salary)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.DateOfJoining)
                                    
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.OfficeLocation)
                                </td>
                                @*@<td>
                                    @Html.DisplayFor(modelItem => item.UserName)
                                </td>*@
                                <td>
                                    @Html.DisplayFor(modelItem => item.Department.DepartmentName)
                                </td>
                                <td>
                                    <button class="btn btn-success">@Html.ActionLink("Edit", "Edit", new { id = item.Id })</button>
                                    <button class="btn btn-info">@Html.ActionLink("Details", "Details", new { id = item.Id }) </button>
                                    <button class="btn btn-default">@Html.ActionLink("Delete", "Delete", new { id = item.Id }) </button>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>